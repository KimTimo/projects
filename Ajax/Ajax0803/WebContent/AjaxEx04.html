<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
<script	src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"></script>
<script>
	$(function(){
		$("#btn1").click(function(){
			// 버튼을 클릭하면 Ajax를 이용하여 ajax_info.txt 파일을 읽어 content에 내용을 출력하겠다.
			// 서버에 ajax_info.txt이 만들어져 있어야 한다.
			const xhttp = new XMLHttpRequest(); // 1. Ajax를 사용하기 위한 객체 생성
			//---------------------------------------------------------------------------
			xhttp.onreadystatechange = function() {
				// 상태가 변경되었을때
				// readyState==4 : 요청이 완료되고 결과르르 받았다면
				// status == 200 : 요청이 성공하면
			    if (this.readyState == 4 && this.status == 200) {
			      document.getElementById("content").innerHTML = this.responseText;
				}// else를 사용하여 에러 처리까지 해줘야 한다.
			}
			//---------------------------------------------------------------------------
			xhttp.open("GET", "ajax_info.txt"); // 3. 요청을 준비
			xhttp.send(); // 4. 요청한다.
		});
		$("#btn2").click(function(){
			// 버튼을 클릭하면 Ajax를 이용하여 서버의 시간을 읽어 content에 내용을 출력하겠다.
			const xhttp = new XMLHttpRequest(); // 1. Ajax를 사용하기 위한 객체 생성
			//---------------------------------------------------------------------------
			xhttp.onreadystatechange = function() {
			    if (this.readyState == 4 && this.status == 200) {
			      document.getElementById("content").innerHTML = this.responseText;
				}
			}
			//---------------------------------------------------------------------------
			xhttp.open("GET", "getDate.jsp"); // 3. get 방식의 요청을 준비
			xhttp.send(); // 4. 요청한다.
		});
	});
</script>
<style type="text/css">
	#content {border: 1px solid gray; padding:10px; width: 600px; height:150px; margin: auto; text-align: center;}
</style>
</head>
<body>
<!-- 
Ajax(Asynchronous JavaScript and XML, 에이잭스)는 비동기적인 웹 애플리케이션의 제작을 위해 아래와 같은 조합을 이용하는 웹 개발 기법이다.

표현 정보를 위한 HTML (또는 XHTML) 과 CSS
동적인 화면 출력 및 표시 정보와의 상호작용을 위한 DOM, 자바스크립트
웹 서버와 비동기적으로 데이터를 교환하고 조작하기 위한 XML, XSLT, XMLHttpRequest
(Ajax 애플리케이션은 XML/XSLT 대신 미리 정의된 HTML이나 일반 텍스트, JSON, JSON-RPC를 이용할 수 있다).
 -->
 <button id="btn1">파일읽기</button>
 <button id="btn2">서버의 시간 얻기</button><br />
 <hr />
 <div id="content">여기의 내용이 바뀔겁니다.</div>
 <hr />
 여기는 변화가 없어요
 
</body>
</html>